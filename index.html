<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta
      name="author"
      content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
    />
    <meta name="generator" content="Jekyll v3.8.6" />
    <title>Appointment Automator</title>

    <link
      rel="canonical"
      href="https://getbootstrap.com/docs/4.4/examples/sign-in/"
    />

    <!-- Bootstrap core CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <!-- Favicons -->
    <link
      rel="apple-touch-icon"
      href="/docs/4.4/assets/img/favicons/apple-touch-icon.png"
      sizes="480x480"
    />
    <link
      rel="icon"
      href="/images/Zenoti_PNG.jfif"
      sizes="32x32"
      type="image/png"
    />
    <link
      rel="icon"
      href="/docs/4.4/assets/img/favicons/favicon-16x16.png"
      sizes="16x16"
      type="image/png"
    />
    <link rel="manifest" href="/docs/4.4/assets/img/favicons/manifest.json" />
    <link
      rel="mask-icon"
      href="/docs/4.4/assets/img/favicons/safari-pinned-tab.svg"
      color="#563d7c"
    />
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon.ico" />
    <meta
      name="msapplication-config"
      content="/docs/4.4/assets/img/favicons/browserconfig.xml"
    />
    <meta name="theme-color" content="#563d7c" />

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      #form-signin {
        box-shadow: 7px 17px 16px 1px;
      }
      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body class="text-center">
    <form class="form-signin" id="form-signin" >
      <img
        class="mb-4"
        src="images/Zenoti.png"
        alt=""
        width="172"
        height="172" style="margin-bottom:-50px; border-radius: 35px;"
      />
      <h6 class="h3 mb-3 font-weight-normal">Appointment Automator</h6>
      <!-- <input type="text" name="url" class="form-control top" placeholder="URL" required autofocus> -->
      <input
        type="text"
        id="username"
        name="username"
        class="form-control middle"
        placeholder="Zdemo username autofilled" style="border-radius: 12px; margin-bottom:10px"
        disabled
      />
      <input
        type="password"
        id="password"
        name="password"
        class="form-control bottom"
        placeholder="Zdemo password autofilled"
        disabled style="border-radius: 12px"
      />
      <button style="margin-top: 10px"
        class="btn btn-lg btn-primary btn-block"
        name="start"
        id="createAll" style="border-radius: 12px"
      >
        Create Appt. For All Centers
      </button>
      <button
        class="btn btn-lg btn-primary btn-block"
        name="start"
        id="startLos" style="border-radius: 12px"
      >
        Create Appt. For Los Angles
      </button>
      <button
        class="btn btn-lg btn-primary btn-block"
        name="start"
        id="startLond" style="border-radius: 12px"
      >
        Create Appt. For London
      </button>
      <button
        class="btn btn-lg btn-primary btn-block"
        name="start"
        id="startHydra" disabled style="border-radius: 12px"
      >
        Create Appt. For Hydrabad
      </button>
      <!-- <button
        class="btn btn-lg btn-danger btn-block"
        name="stop"
        id="stop"
        formaction="/"
        type="submit"
      >
        Stop Process
      </button> -->
    </form>
  </body>
  <script>
    const username = document.getElementById("username");
    const password = document.getElementById("password");
    const startLosBtn = document.getElementById("startLos");
    const startLonBtn = document.getElementById("startLond");
    const startHydrBtn = document.getElementById("startHydra");
    const createAllBtn = document.getElementById("createAll");
    // const stopBtn  = document.getElementById("stop");
    var intervalID;

    function start(centerIndex) {
      fetch("/", {
        method: "POST",
        headers: {
          "content-type": "application/json",
        },
        body: JSON.stringify({
          username: username.value,
          password: password.value,
          centerIndex: centerIndex,
        }),
      }).then((res) => {
        console.log(res);
         console.log("DONE");
         res.json()
       });
    }
    createAllBtn.addEventListener("click", (event) => {
      console.log("In Create All Event");
      event.preventDefault();
      start(1);
      // start(4);
      start(8);
    });
    startLosBtn.addEventListener("click", (event) => {
      console.log("here");
      event.preventDefault();
      start(1);
      // intervalID = setInterval(() => {
      //   start();
      // }, 15000);

      // console.log("intervalID start", intervalID);
    });
    startLonBtn.addEventListener("click", (event) => {
      console.log("here again");
      event.preventDefault();
      start(8);
      // intervalID = setInterval(() => {
      //   start();
      // }, 15000);

      // console.log("intervalID start", intervalID);
    });
    startHydrBtn.addEventListener("click", (event) => {
      event.preventDefault();
      start(4);
      // intervalID = setInterval(() => {
      //   start();
      // }, 15000);

      // console.log("intervalID start", intervalID);
    });

  // stopBtn.addEventListener("click", () => {
  //     event.preventDefault();
  //     clearInterval(intervalID);
  //
  //     console.log("stop Interval", intervalID);
  //   });
  </script>
</html>
